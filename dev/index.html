<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>開発用</title>
  <link rel="stylesheet" href="style.css?v=999">
</head>
<body>

<header class="topbar">
  <h1 class="title">開発用</h1>

  <button id="menuBtn" class="menu-btn" type="button" aria-label="メニュー" aria-expanded="false">
    ☰
  </button>
</header>


<section class="card">
  <h2>セッティング情報</h2>

  <div class="meta">
    <label>板名：<input id="board" type="text" placeholder="例：TNT"></label>

    <label>雪質：
      <select id="snow">
        <option value="">選択</option>
        <option value="パウダー">パウダー</option>
        <option value="圧雪">圧雪</option>
        <option value="春雪">春雪</option>
        <option value="アイス">アイス</option>
      </select>
    </label>
    
    <label>コメント：
  <textarea id="comment" rows="2" placeholder="例：カービング気持ちいい / 右足が疲れる など"></textarea>
    </label>

    <button id="commentClearBtn" type="button" class="comment-clear">コメントを消す</button>

    <div class="stance-quick">
    <button type="button" data-stance="duck">ダック</button>
    <button type="button" data-stance="forward">前振り</button>
    <button type="button" data-stance="back">後振り</button>
  </div>
    
    <div class="side-row">
  <div class="side-title">左</div>

  <label class="angle">
    角度
    <input id="left-angle" type="number" placeholder="+15">
  </label>

  <div class="disk">
    <div class="disk-label">ディスク</div>
    <div class="disk-group" data-side="left">
      <button type="button" class="chip" data-value="前">前</button>
      <button type="button" class="chip" data-value="中">中</button>
      <button type="button" class="chip" data-value="後">後</button>
    </div>
  </div>
</div>

<div class="side-row">
  <div class="side-title">右</div>

  <label class="angle">
    角度
    <input id="right-angle" type="number" placeholder="-9">
  </label>

  <div class="disk">
    <div class="disk-label">ディスク</div>
    <div class="disk-group" data-side="right">
      <button type="button" class="chip" data-value="前">前</button>
      <button type="button" class="chip" data-value="中">中</button>
      <button type="button" class="chip" data-value="後">後</button>
    </div>
  </div>
</div>
  </div>

  <button id="saveBtn" type="button">保存</button>
  <button id="clearBtn" type="button">クリア</button>
</section>

<div class="bindings">
  <section class="card">
    <h2>左</h2>
    <div class="holes" data-side="left">
      <div class="row">
        <div class="hole"></div><div class="hole"></div><div class="hole"></div>
        <div class="hole"></div><div class="hole"></div><div class="hole"></div>
      </div>

    <div class="ref-wrap" data-side="left">
     <div class="ref-help" data-side="left">タップして推奨位置追加</div>
       <div class="ref-line" data-side="left"></div>
     </div>
      
      <div class="row">
        <div class="hole"></div><div class="hole"></div><div class="hole"></div>
        <div class="hole"></div><div class="hole"></div><div class="hole"></div>
      </div>
    </div>
  </section>

  <section class="card">
    <h2>右</h2>
    <div class="holes" data-side="right">
      <div class="row">
        <div class="hole"></div><div class="hole"></div><div class="hole"></div>
        <div class="hole"></div><div class="hole"></div><div class="hole"></div>
      </div>

    <div class="ref-wrap" data-side="right">
     <div class="ref-help" data-side="right">タップして推奨位置追加</div>
       <div class="ref-line" data-side="right"></div>
     </div>
      
      <div class="row">
        <div class="hole"></div><div class="hole"></div><div class="hole"></div>
        <div class="hole"></div><div class="hole"></div><div class="hole"></div>
      </div>
    </div>
  </section>
</div>

<div class="tabs-bar">
  <!-- 1段目 左：板タブ -->
  <div id="boardTabs" class="tabs"></div>
  </div>
  
<div id="history"></div>
  
  <div class="dev-actions">
    <button id="btnDevCopyProd" type="button" class="dev-btn">本番データを取り込む</button>
    <button id="btnDevReset" type="button" class="dev-btn danger">devデータ全削除</button>
  </div>

  <div class="dev-note">
    ※本番のデータは消えないよ（devにコピーするだけ）
  </div>
</div>
  
  <!-- 右から出るメニュー -->
<div id="menuOverlay" class="menu-overlay" hidden></div>

<aside id="menuPanel" class="menu-panel" aria-hidden="true">
  <div class="menu-head">
    <div class="menu-title">⚙ 設定 / データ管理</div>
    <button id="menuCloseBtn" class="menu-close" type="button" aria-label="閉じる">×</button>
  </div>

  <div class="menu-body">

  <section class="menu-card" id="menuFilters">
    <h3>🎛 フィルター / ソート</h3>
    <div id="filtersMountMenu"></div>
  </section>

  <section class="menu-card">
    <h3>📦 データ管理</h3>

      <button id="btnExport" type="button" class="menu-action">📤 バックアップを書き出す（.json）</button>

      <div class="import-box">
        <div class="import-title">📥 バックアップから復元</div>

        <input id="importFile" type="file" accept="application/json" class="import-file">

        <div id="importPreview" class="import-preview">
          <div class="import-muted">※ ここにプレビューが出るよ</div>
        </div>

        <div class="import-actions">
          <button id="btnImportMerge" type="button" class="menu-action" disabled>追加して復元（安全）</button>
          <button id="btnImportReplace" type="button" class="menu-action danger" disabled>上書きで復元（危険）</button>
        </div>

        <div id="importError" class="import-error" hidden></div>
      </div>
    </section>

    <section class="menu-card">
    <h3>🎛 表示・操作</h3>
      <button type="button" class="menu-action" disabled>（今後追加）</button>
    </section>
  </div>
</aside> 
  
  <div id="filtersPanel" class="menu-filters" hidden>
    <!-- ① 日付ソート -->
    <label class="menu-label">
      並び替え
      <select id="sortMode" class="sort-select">
        <option value="savedDesc">保存日↓</option>
        <option value="savedAsc">保存日↑</option>
        <option value="boardAsc">板名</option>
        <option value="snowAsc">雪質</option>
      </select>
    </label>

    <!-- ② スタンス -->
    <div class="menu-label">
      スタンス
      <div class="stance-tabs" id="stanceTabs"></div>
    </div>

    <!-- ③ 角度 -->
    <div class="menu-label">
      角度
      <div class="angle-filter" aria-label="角度検索">
        <input id="angleLeft" class="angle-in" type="number" placeholder="L">
        <input id="angleRight" class="angle-in" type="number" placeholder="R">
        <span class="angle-pm">±</span>
        <input id="angleTol" class="angle-tol" type="number" value="2" min="0">
        <button id="angleClear" class="angle-clear" type="button">×</button>
      </div>
    </div>

    <!-- ✅ オールクリア -->
    <button id="btnFilterClear" type="button" class="menu-action">
      🧹 フィルター/ソートを全部クリア
    </button>
  </div>

<script src="script.js?v=30"></script>

<div id="toast"></div>
  
  
</body>
</html>
